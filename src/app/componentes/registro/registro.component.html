
<div class="perfil-body">
  <img src="assets/file_16369877.png" class="LibroVirtual-image" alt="Libro Virtual">
  <img src="assets/manager_8536054.png" class="CarpetaVirtual-image" alt="Carpeta Virtual">

  <div class="container">
    <h2>¡Bienvenido! Registrese como alumno o profesor</h2>
    <form [formGroup]="createProfileForm" (ngSubmit)="onSubmit()">
      
      <div class="form-group">
        <label for="userType">Tipo de Usuario:</label>
        <select id="userType" formControlName="userType" name="userType" class="form-control">
          <option value="">Seleccione un tipo de usuario</option>
          <option value="ROLE_ALUMNO">Alumno</option>
          <option value="ROLE_PROFESOR">Profesor</option>
        </select>
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('userType')?.errors?.['required'] && createProfileForm.get('userType')?.touched">
          Seleccionar el tipo de usuario es obligatorio.
        </div>
      </div>

      <div class="form-group">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" formControlName="nombre" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('nombre')?.errors?.['required'] && createProfileForm.get('nombre')?.touched">
          El nombre es obligatorio.
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('nombre')?.errors?.['pattern'] && createProfileForm.get('apellido')?.touched">
          El nombre no puede contener números ni caracteres especiales.
        </div>
      </div>
      
      <div class="form-group">
        <label for="apellido">Apellido:</label>
        <input type="text" id="apellido" formControlName="apellido" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('apellido')?.errors?.['required'] && createProfileForm.get('apellido')?.touched">
          El apellido es obligatorio.
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('apellido')?.errors?.['pattern'] && createProfileForm.get('apellido')?.touched">
          El apellido no puede contener números ni caracteres especiales.
        </div>
      </div>

      <div class="form-group">
        <label for="apellido">Edad:</label>
        <input type="number" id="edad" formControlName="edad" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('edad')?.errors?.['required'] && createProfileForm.get('edad')?.touched">
         La edad es obligatoria.
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('edad')?.errors?.['min'] && createProfileForm.get('edad')?.touched">
            La edad debe ser mayor a 18
           </div>
      </div>

      <div class="form-group">
        <label for="nombre">Nombre de Usuario:</label>
        <input type="text" id="nombreUsuario" formControlName="nombreUsuario" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('nombreUsuario')?.errors?.['required'] && createProfileForm.get('nombreUsuario')?.touched">
          El nombre Usuario es obligatorio.
        </div>
      </div>
      
      <div class="form-group">
        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" formControlName="email" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('email')?.errors?.['required'] && createProfileForm.get('email')?.touched">
          El correo electrónico es obligatorio.
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('email')?.errors?.['email'] && createProfileForm.get('email')?.touched">
          Debe ser un email válido.
        </div>
      </div>

      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input type="password" id="password" formControlName="password" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('password')?.errors?.['required'] && createProfileForm.get('password')?.touched">
          La contraseña es obligatoria.
        </div> 
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('passwordConfirm')?.errors?.['mismatch'] && createProfileForm.get('passwordConfirm')?.touched">
            Las contraseñas no coinciden.
          </div>
      </div>
      
      <div class="form-group">
        <label for="passwordConfirm">Repita contraseña:</label>
        <input type="password" id="passwordConfirm" formControlName="passwordConfirm" class="form-control">
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('passwordConfirm')?.errors?.['required'] && createProfileForm.get('passwordConfirm')?.touched">
          La confirmación de contraseña es obligatoria.
        </div> 
        <div class="alert alert-danger" role="alert" *ngIf="createProfileForm.get('passwordConfirm')?.errors?.['mismatch'] && createProfileForm.get('passwordConfirm')?.touched">
            Las contraseñas no coinciden.
          </div>
        </div>

      <button type="submit" class="btn"  [disabled]="!createProfileForm.valid">Guardar Cambios</button>
    
    </form>
    <br>
    <button type="button" class="btn btn-danger" style="background-color:red" [routerLink]="['/login']" routerLinkActive="router-link-active" >Volver al Login</button>
  </div> 
</div>
